import{a as k}from"/build/_shared/chunk-LCYPSV2B.js";import{A as g,b as d,c as S,p as y,z as E}from"/build/_shared/chunk-FKMX3JTF.js";E();var a=d(S()),n=d(g()),W=()=>[{rel:"stylesheet",href:k}],p=class{constructor(i,c,s,m,u,r,l=[]){this._id=i,this.name=c,this.email=s,this.calendarLink=m,this.originalCalendarLink=u,this.bedtime=r,this.emojis=l}};function x(){let f=y(),[i,c]=(0,a.useState)(new p("","")),[s,m]=(0,a.useState)(0),[u,r]=(0,a.useState)("What is your name?"),[l,o]=(0,a.useState)(""),[v,b]=(0,a.useState)("text"),[w,N]=(0,a.useState)(""),[F,j]=(0,a.useState)("23:00"),[C,T]=(0,a.useState)([]);async function L(e){try{let t=await fetch("http://ec2-3-144-236-30.us-east-2.compute.amazonaws.com:3002/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,calendarLink:w,bedtime:e,emojis:C})});if(!t.ok)throw new Error(`Failed to create student: ${t.statusText}`);let P=await t.json();localStorage.setItem("studentId",P._id),f("/")}catch(t){console.error("Error creating student:",t),alert("Failed to onboard. Please try again.")}}function h(e){switch(s){case 0:if(e===""){alert("Please enter your name.");return}c(t=>({...t,name:e})),r("What is your email?");break;case 1:if(e===""){alert("Please enter your email.");return}c(t=>({...t,email:e})),r("Please provide your Google Calendar link.");break;case 2:N(e),r("When is your bedtime?"),b("time");break;case 3:if(e===""){alert("Please enter your bedtime.");return}else j(e),L(e);break}m(s+1)}return(0,n.jsx)("div",{className:"h-screen",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-10 justify-center h-full",children:[(0,n.jsxs)("p",{className:"text-white font-bold text-5xl place-self-center",children:[" ",u," "]}),(0,n.jsx)("input",{className:"h-20 text-black font-bold text-5xl place-self-center",type:v,value:l,onChange:e=>o(e.target.value),onKeyUp:e=>{e.key==="Enter"&&(h(l),o(""))}}),(0,n.jsxs)("div",{className:"place-self-center",children:[s!==0&&(0,n.jsx)("button",{className:"text-white background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:()=>{switch(s){case 1:r("What is your name?"),o("");break;case 2:r("What is your email?"),o(i.name),b("text");break;case 3:o(i.email);break;default:break}m(s-1)},children:"Back "}),(0,n.jsx)("button",{className:"text-white background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:()=>{h(l),o("")},children:"Next "})]})]})})}export{x as default,W as links};
