import{a as ie}from"/build/_shared/chunk-LCYPSV2B.js";import{A as re,a as ae,b as Z,c as oe,p as te,z as ue}from"/build/_shared/chunk-FKMX3JTF.js";var ne=ae((de,Q)=>{var n;(function(){typeof Q=="object"?n=Q.exports:typeof HTMLScriptElement<"u"&&"noModule"in HTMLScriptElement.prototype?window.ICAL=n={}:typeof n!="object"&&(n={})})();n.foldLength=75;n.newLineChar=`\r
`;n.helpers={updateTimezones:function(u){var r,e,i,t,s,a;if(!u||u.name!=="vcalendar")return u;for(r=u.getAllSubcomponents(),e=[],i={},s=0;s<r.length;s++)r[s].name==="vtimezone"?(a=r[s].getFirstProperty("tzid").getFirstValue(),i[a]=r[s]):e=e.concat(r[s].getAllProperties());for(t={},s=0;s<e.length;s++)(a=e[s].getParameter("tzid"))&&(t[a]=!0);for(s in i)i.hasOwnProperty(s)&&!t[s]&&u.removeSubcomponent(i[s]);for(s in t)t.hasOwnProperty(s)&&!i[s]&&n.TimezoneService.has(s)&&u.addSubcomponent(n.TimezoneService.get(s).component);return u},isStrictlyNaN:function(u){return typeof u=="number"&&isNaN(u)},strictParseInt:function(u){var r=parseInt(u,10);if(n.helpers.isStrictlyNaN(r))throw new Error('Could not extract integer from "'+u+'"');return r},formatClassType:function(r,e){if(!(typeof r>"u"))return r instanceof e?r:new e(r)},unescapedIndexOf:function(u,r,e){for(;(e=u.indexOf(r,e))!==-1;)if(e>0&&u[e-1]==="\\")e+=1;else return e;return-1},binsearchInsert:function(u,r,e){if(!u.length)return 0;for(var i=0,t=u.length-1,s,a;i<=t;)if(s=i+Math.floor((t-i)/2),a=e(r,u[s]),a<0)t=s-1;else if(a>0)i=s+1;else break;return a<0?s:a>0?s+1:s},dumpn:function(){n.debug&&(typeof console<"u"&&"log"in console?n.helpers.dumpn=function(r){console.log(r)}:n.helpers.dumpn=function(r){dump(r+`
`)},n.helpers.dumpn(arguments[0]))},clone:function(u,r){if(!u||typeof u!="object")return u;if(u instanceof Date)return new Date(u.getTime());if("clone"in u)return u.clone();if(Array.isArray(u)){for(var e=[],i=0;i<u.length;i++)e.push(r?n.helpers.clone(u[i],!0):u[i]);return e}else{var t={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(r?t[s]=n.helpers.clone(u[s],!0):t[s]=u[s]);return t}},foldline:function(r){for(var e="",i=r||"",t=0,s=0;i.length;){var a=i.codePointAt(t);a<128?++s:a<2048?s+=2:a<65536?s+=3:s+=4,s<n.foldLength+1?t+=a>65535?2:1:(e+=n.newLineChar+" "+i.substring(0,t),i=i.substring(t),t=s=0)}return e.substr(n.newLineChar.length+1)},pad2:function(r){typeof r!="string"&&(typeof r=="number"&&(r=parseInt(r)),r=String(r));var e=r.length;switch(e){case 0:return"00";case 1:return"0"+r;default:return r}},trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)},inherits:function(u,r,e){function i(){}i.prototype=u.prototype,r.prototype=new i,e&&n.helpers.extend(e,r.prototype)},extend:function(u,r){for(var e in u){var i=Object.getOwnPropertyDescriptor(u,e);i&&!Object.getOwnPropertyDescriptor(r,e)&&Object.defineProperty(r,e,i)}return r}};n.design=function(){"use strict";var u=/\\\\|\\;|\\,|\\[Nn]/g,r=/\\|;|,|\n/g,e=/\\\\|\\,|\\[Nn]/g,i=/\\|,|\n/g;function t(h,g){var L={matches:/.*/,fromICAL:function(x,D){return _(x,h,D)},toICAL:function(x,D){var Y=g;return D&&(Y=new RegExp(Y.source+"|"+D)),x.replace(Y,function(N){switch(N){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return N}})}};return L}var s={defaultType:"text"},a={defaultType:"text",multiValue:","},l={defaultType:"text",structuredValue:";"},c={defaultType:"integer"},v={defaultType:"date-time",allowedTypes:["date-time","date"]},f={defaultType:"date-time"},d={defaultType:"uri"},o={defaultType:"utc-offset"},m={defaultType:"recur"},y={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function p(h){switch(h){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return h}}function _(h,g,L){return h.indexOf("\\")===-1?h:(L&&(g=new RegExp(g.source+"|\\\\"+L)),h.replace(g,p))}var O={categories:a,url:d,version:s,uid:s},w={boolean:{values:["TRUE","FALSE"],fromICAL:function(h){switch(h){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(h){return h?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(h){var g=parseFloat(h);return n.helpers.isStrictlyNaN(g)?0:g},toICAL:function(h){return String(h)}},integer:{fromICAL:function(h){var g=parseInt(h);return n.helpers.isStrictlyNaN(g)?0:g},toICAL:function(h){return String(h)}},"utc-offset":{toICAL:function(h){return h.length<7?h.substr(0,3)+h.substr(4,2):h.substr(0,3)+h.substr(4,2)+h.substr(7,2)},fromICAL:function(h){return h.length<6?h.substr(0,3)+":"+h.substr(3,2):h.substr(0,3)+":"+h.substr(3,2)+":"+h.substr(5,2)},decorate:function(h){return n.UtcOffset.fromString(h)},undecorate:function(h){return h.toString()}}},E={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},b=n.helpers.extend(w,{text:t(u,r),uri:{},binary:{decorate:function(h){return n.Binary.fromString(h)},undecorate:function(h){return h.toString()}},"cal-address":{},date:{decorate:function(h,g){return R.strict?n.Time.fromDateString(h,g):n.Time.fromString(h,g)},undecorate:function(h){return h.toString()},fromICAL:function(h){return!R.strict&&h.length>=15?b["date-time"].fromICAL(h):h.substr(0,4)+"-"+h.substr(4,2)+"-"+h.substr(6,2)},toICAL:function(h){var g=h.length;return g==10?h.substr(0,4)+h.substr(5,2)+h.substr(8,2):g>=19?b["date-time"].toICAL(h):h}},"date-time":{fromICAL:function(h){if(!R.strict&&h.length==8)return b.date.fromICAL(h);var g=h.substr(0,4)+"-"+h.substr(4,2)+"-"+h.substr(6,2)+"T"+h.substr(9,2)+":"+h.substr(11,2)+":"+h.substr(13,2);return h[15]&&h[15]==="Z"&&(g+="Z"),g},toICAL:function(h){var g=h.length;if(g==10&&!R.strict)return b.date.toICAL(h);if(g>=19){var L=h.substr(0,4)+h.substr(5,2)+h.substr(8,5)+h.substr(14,2)+h.substr(17,2);return h[19]&&h[19]==="Z"&&(L+="Z"),L}else return h},decorate:function(h,g){return R.strict?n.Time.fromDateTimeString(h,g):n.Time.fromString(h,g)},undecorate:function(h){return h.toString()}},duration:{decorate:function(h){return n.Duration.fromString(h)},undecorate:function(h){return h.toString()}},period:{fromICAL:function(h){var g=h.split("/");return g[0]=b["date-time"].fromICAL(g[0]),n.Duration.isValueString(g[1])||(g[1]=b["date-time"].fromICAL(g[1])),g},toICAL:function(h){return!R.strict&&h[0].length==10?h[0]=b.date.toICAL(h[0]):h[0]=b["date-time"].toICAL(h[0]),n.Duration.isValueString(h[1])||(!R.strict&&h[1].length==10?h[1]=b.date.toICAL(h[1]):h[1]=b["date-time"].toICAL(h[1])),h.join("/")},decorate:function(h,g){return n.Period.fromJSON(h,g,!R.strict)},undecorate:function(h){return h.toJSON()}},recur:{fromICAL:function(h){return n.Recur._stringToData(h,!0)},toICAL:function(h){var g="";for(var L in h)if(Object.prototype.hasOwnProperty.call(h,L)){var x=h[L];L=="until"?x.length>10?x=b["date-time"].toICAL(x):x=b.date.toICAL(x):L=="wkst"?typeof x=="number"&&(x=n.Recur.numericDayToIcalDay(x)):Array.isArray(x)&&(x=x.join(",")),g+=L.toUpperCase()+"="+x+";"}return g.substr(0,g.length-1)},decorate:function(g){return n.Recur.fromData(g)},undecorate:function(h){return h.toJSON()}},time:{fromICAL:function(h){if(h.length<6)return h;var g=h.substr(0,2)+":"+h.substr(2,2)+":"+h.substr(4,2);return h[6]==="Z"&&(g+="Z"),g},toICAL:function(h){if(h.length<8)return h;var g=h.substr(0,2)+h.substr(3,2)+h.substr(6,2);return h[8]==="Z"&&(g+="Z"),g}}}),A=n.helpers.extend(O,{action:s,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:s,class:s,comment:s,completed:f,contact:s,created:f,description:s,dtend:v,dtstamp:f,dtstart:v,due:v,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:m,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":f,location:s,method:s,organizer:{defaultType:"cal-address"},"percent-complete":c,priority:c,prodid:s,"related-to":s,repeat:c,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(h){return h.indexOf("/")!==-1?"period":h.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":v,resources:a,"request-status":l,rrule:m,sequence:c,status:s,summary:s,transp:s,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:o,tzoffsetto:o,tzurl:d,tzid:s,tzname:s}),C=n.helpers.extend(w,{text:t(e,i),uri:t(e,i),date:{decorate:function(h){return n.VCardTime.fromDateAndOrTimeString(h,"date")},undecorate:function(h){return h.toString()},fromICAL:function(h){return h.length==8?b.date.fromICAL(h):h[0]=="-"&&h.length==6?h.substr(0,4)+"-"+h.substr(4):h},toICAL:function(h){return h.length==10?b.date.toICAL(h):h[0]=="-"&&h.length==7?h.substr(0,4)+h.substr(5):h}},time:{decorate:function(h){return n.VCardTime.fromDateAndOrTimeString("T"+h,"time")},undecorate:function(h){return h.toString()},fromICAL:function(h){var g=C.time._splitZone(h,!0),L=g[0],x=g[1];return x.length==6?x=x.substr(0,2)+":"+x.substr(2,2)+":"+x.substr(4,2):x.length==4&&x[0]!="-"?x=x.substr(0,2)+":"+x.substr(2,2):x.length==5&&(x=x.substr(0,3)+":"+x.substr(3,2)),L.length==5&&(L[0]=="-"||L[0]=="+")&&(L=L.substr(0,3)+":"+L.substr(3)),x+L},toICAL:function(h){var g=C.time._splitZone(h),L=g[0],x=g[1];return x.length==8?x=x.substr(0,2)+x.substr(3,2)+x.substr(6,2):x.length==5&&x[0]!="-"?x=x.substr(0,2)+x.substr(3,2):x.length==6&&(x=x.substr(0,3)+x.substr(4,2)),L.length==6&&(L[0]=="-"||L[0]=="+")&&(L=L.substr(0,3)+L.substr(4)),x+L},_splitZone:function(h,g){var L=h.length-1,x=h.length-(g?5:6),D=h[x],Y,N;return h[L]=="Z"?(Y=h[L],N=h.substr(0,L)):h.length>6&&(D=="-"||D=="+")?(Y=h.substr(x),N=h.substr(0,x)):(Y="",N=h),[Y,N]}},"date-time":{decorate:function(h){return n.VCardTime.fromDateAndOrTimeString(h,"date-time")},undecorate:function(h){return h.toString()},fromICAL:function(h){return C["date-and-or-time"].fromICAL(h)},toICAL:function(h){return C["date-and-or-time"].toICAL(h)}},"date-and-or-time":{decorate:function(h){return n.VCardTime.fromDateAndOrTimeString(h,"date-and-or-time")},undecorate:function(h){return h.toString()},fromICAL:function(h){var g=h.split("T");return(g[0]?C.date.fromICAL(g[0]):"")+(g[1]?"T"+C.time.fromICAL(g[1]):"")},toICAL:function(h){var g=h.split("T");return C.date.toICAL(g[0])+(g[1]?"T"+C.time.toICAL(g[1]):"")}},timestamp:b["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}}),z={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},B=n.helpers.extend(O,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:y,bday:y,caladruri:d,caluri:d,clientpidmap:l,email:s,fburl:d,fn:s,gender:l,geo:d,impp:d,key:d,kind:s,lang:{defaultType:"language-tag"},logo:d,member:d,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:a,note:s,org:{defaultType:"text",structuredValue:";"},photo:d,related:d,rev:{defaultType:"timestamp"},role:s,sound:d,source:d,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:s,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:s}),W=n.helpers.extend(w,{binary:b.binary,date:C.date,"date-time":C["date-time"],"phone-number":{},uri:b.uri,text:b.text,time:b.time,vcard:b.text,"utc-offset":{toICAL:function(h){return h.substr(0,7)},fromICAL:function(h){return h.substr(0,7)},decorate:function(h){return n.UtcOffset.fromString(h)},undecorate:function(h){return h.toString()}}}),H={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},F=n.helpers.extend(O,{fn:s,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:a,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(h){return h.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:s,tel:{defaultType:"phone-number"},email:s,mailer:s,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:s,role:s,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:l,note:a,prodid:s,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(h){return h.indexOf("T")===-1?"date":"date-time"}},"sort-string":s,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:s,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),k={value:b,param:E,property:A},V={value:C,param:z,property:B},M={value:W,param:H,property:F},R={strict:!0,defaultSet:k,defaultType:"unknown",components:{vcard:V,vcard3:M,vevent:k,vtodo:k,vjournal:k,valarm:k,vtimezone:k,daylight:k,standard:k},icalendar:k,vcard:V,vcard3:M,getDesignSet:function(h){var g=h&&h in R.components;return g?R.components[h]:R.defaultSet}};return R}();n.stringify=function(){"use strict";var u=`\r
`,r="unknown",e=n.design,i=n.helpers;function t(a){typeof a[0]=="string"&&(a=[a]);for(var l=0,c=a.length,v="";l<c;l++)v+=t.component(a[l])+u;return v}t.component=function(a,l){var c=a[0].toUpperCase(),v="BEGIN:"+c+u,f=a[1],d=0,o=f.length,m=a[0];for(m==="vcard"&&a[1].length>0&&!(a[1][0][0]==="version"&&a[1][0][3]==="4.0")&&(m="vcard3"),l=l||e.getDesignSet(m);d<o;d++)v+=t.property(f[d],l)+u;for(var y=a[2]||[],p=0,_=y.length;p<_;p++)v+=t.component(y[p],l)+u;return v+="END:"+c,v},t.property=function(a,l,c){var v=a[0].toUpperCase(),f=a[0],d=a[1],o=v,m;for(m in d){var y=d[m];if(d.hasOwnProperty(m)){var O=m in l.param&&l.param[m].multiValue;O&&Array.isArray(y)?(l.param[m].multiValueSeparateDQuote&&(O='"'+O+'"'),y=y.map(t._rfc6868Unescape),y=t.multiValue(y,O,"unknown",null,l)):y=t._rfc6868Unescape(y),o+=";"+m.toUpperCase(),o+="="+t.propertyValue(y)}}if(a.length===3)return o+":";var p=a[2];l||(l=e.defaultSet);var _,O=!1,w=!1,E=!1;return f in l.property?(_=l.property[f],"multiValue"in _&&(O=_.multiValue),"structuredValue"in _&&Array.isArray(a[3])&&(w=_.structuredValue),"defaultType"in _?p===_.defaultType&&(E=!0):p===r&&(E=!0)):p===r&&(E=!0),E||(o+=";VALUE="+p.toUpperCase()),o+=":",O&&w?o+=t.multiValue(a[3],w,p,O,l,w):O?o+=t.multiValue(a.slice(3),O,p,null,l,!1):w?o+=t.multiValue(a[3],w,p,null,l,w):o+=t.value(a[3],p,l,!1),c?o:n.helpers.foldline(o)},t.propertyValue=function(a){return i.unescapedIndexOf(a,",")===-1&&i.unescapedIndexOf(a,":")===-1&&i.unescapedIndexOf(a,";")===-1?a:'"'+a+'"'},t.multiValue=function(a,l,c,v,f,d){for(var o="",m=a.length,y=0;y<m;y++)v&&Array.isArray(a[y])?o+=t.multiValue(a[y],v,c,null,f,d):o+=t.value(a[y],c,f,d),y!==m-1&&(o+=l);return o},t.value=function(a,l,c,v){return l in c.value&&"toICAL"in c.value[l]?c.value[l].toICAL(a,v):a},t._rfc6868Unescape=function(a){return a.replace(/[\n^"]/g,function(l){return s[l]})};var s={'"':"^'","\n":"^n","^":"^^"};return t}();n.parse=function(){"use strict";var u=/[^ \t]/,r=",",e=":",i=";",t="=",s="unknown",a="text",l=n.design,c=n.helpers;function v(o){this.message=o,this.name="ParserError";try{throw new Error}catch(y){if(y.stack){var m=y.stack.split(`
`);m.shift(),this.stack=m.join(`
`)}}}v.prototype=Error.prototype;function f(o){var m={},y=m.component=[];if(m.stack=[y],f._eachLine(o,function(p,_){f._handleContentLine(_,m)}),m.stack.length>1)throw new v("invalid ical body. component began but did not end");return m=null,y.length==1?y[0]:y}f.property=function(o,m){var y={component:[[],[]],designSet:m||l.defaultSet};return f._handleContentLine(o,y),y.component[1][0]},f.component=function(o){return f(o)},f.ParserError=v,f._handleContentLine=function(o,m){var y=o.indexOf(e),p=o.indexOf(i),_,O,w,E,b={};p!==-1&&y!==-1&&p>y&&(p=-1);var A;if(p!==-1){if(w=o.substring(0,p).toLowerCase(),A=f._parseParameters(o.substring(p),0,m.designSet),A[2]==-1)throw new v("Invalid parameters in '"+o+"'");if(b=A[0],_=A[1].length+A[2]+p,(O=o.substring(_).indexOf(e))!==-1)E=o.substring(_+O+1);else throw new v("Missing parameter value in '"+o+"'")}else if(y!==-1){if(w=o.substring(0,y).toLowerCase(),E=o.substring(y+1),w==="begin"){var C=[E.toLowerCase(),[],[]];m.stack.length===1?m.component.push(C):m.component[2].push(C),m.stack.push(m.component),m.component=C,m.designSet||(m.designSet=l.getDesignSet(m.component[0]));return}else if(w==="end"){m.component=m.stack.pop();return}}else throw new v('invalid line (no token ";" or ":") "'+o+'"');var z,B=!1,W=!1,H;w in m.designSet.property&&(H=m.designSet.property[w],"multiValue"in H&&(B=H.multiValue),"structuredValue"in H&&(W=H.structuredValue),E&&"detectType"in H&&(z=H.detectType(E))),z||("value"in b?z=b.value.toLowerCase():H?z=H.defaultType:z=s),delete b.value;var F;B&&W?(E=f._parseMultiValue(E,W,z,[],B,m.designSet,W),F=[w,b,z,E]):B?(F=[w,b,z],f._parseMultiValue(E,B,z,F,null,m.designSet,!1)):W?(E=f._parseMultiValue(E,W,z,[],null,m.designSet,W),F=[w,b,z,E]):(E=f._parseValue(E,z,m.designSet,!1),F=[w,b,z,E]),m.component[0]==="vcard"&&m.component[1].length===0&&!(w==="version"&&E==="4.0")&&(m.designSet=l.getDesignSet("vcard3")),m.component[1].push(F)},f._parseValue=function(o,m,y,p){return m in y.value&&"fromICAL"in y.value[m]?y.value[m].fromICAL(o,p):o},f._parseParameters=function(o,m,y){for(var p=m,_=0,O=t,w={},E,b,A,C=-1,z,B,W;_!==!1&&(_=c.unescapedIndexOf(o,O,_+1))!==-1;){if(E=o.substr(p+1,_-p-1),E.length==0)throw new v("Empty parameter name in '"+o+"'");b=E.toLowerCase(),W=!1,B=!1,b in y.param&&y.param[b].valueType?z=y.param[b].valueType:z=a,b in y.param&&(B=y.param[b].multiValue,y.param[b].multiValueSeparateDQuote&&(W=f._rfc6868Escape('"'+B+'"')));var H=o[_+1];if(H==='"'){if(C=_+2,_=c.unescapedIndexOf(o,'"',C),B&&_!=-1)for(var F=!0;F;)o[_+1]==B&&o[_+2]=='"'?_=c.unescapedIndexOf(o,'"',_+3):F=!1;if(_===-1)throw new v('invalid line (no matching double quote) "'+o+'"');A=o.substr(C,_-C),p=c.unescapedIndexOf(o,i,_),p===-1&&(_=!1)}else{C=_+1;var k=c.unescapedIndexOf(o,i,C),V=c.unescapedIndexOf(o,e,C);V!==-1&&k>V?(k=V,_=!1):k===-1?(V===-1?k=o.length:k=V,_=!1):(p=k,_=k),A=o.substr(C,k-C)}if(A=f._rfc6868Escape(A),B){var M=W||B;A=f._parseMultiValue(A,M,z,[],null,y)}else A=f._parseValue(A,z,y);B&&b in w?Array.isArray(w[b])?w[b].push(A):w[b]=[w[b],A]:w[b]=A}return[w,A,C]},f._rfc6868Escape=function(o){return o.replace(/\^['n^]/g,function(m){return d[m]})};var d={"^'":'"',"^n":`
`,"^^":"^"};return f._parseMultiValue=function(o,m,y,p,_,O,w){var E=0,b=0,A;if(m.length===0)return o;for(;(E=c.unescapedIndexOf(o,m,b))!==-1;)A=o.substr(b,E-b),_?A=f._parseMultiValue(A,_,y,[],null,O,w):A=f._parseValue(A,y,O,w),p.push(A),b=E+m.length;return A=o.substr(b),_?A=f._parseMultiValue(A,_,y,[],null,O,w):A=f._parseValue(A,y,O,w),p.push(A),p.length==1?p[0]:p},f._eachLine=function(o,m){var y=o.length,p=o.search(u),_=p,O,w,E;do _=o.indexOf(`
`,p)+1,_>1&&o[_-2]==="\r"?E=2:E=1,_===0&&(_=y,E=0),w=o[p],w===" "||w==="	"?O+=o.substr(p+1,_-p-(E+1)):(O&&m(null,O),O=o.substr(p,_-p-E)),p=_;while(_!==y);O=O.trim(),O.length&&m(null,O)},f}();n.Component=function(){"use strict";var u=1,r=2,e=0;function i(t,s){typeof t=="string"&&(t=[t,[],[]]),this.jCal=t,this.parent=s||null}return i.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[e]},get _designSet(){var t=this.parent&&this.parent._designSet;return t||n.design.getDesignSet(this.name)},_hydrateComponent:function(t){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[t])return this._components[t];var s=new i(this.jCal[r][t],this);return this._hydratedComponentCount++,this._components[t]=s},_hydrateProperty:function(t){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[t])return this._properties[t];var s=new n.Property(this.jCal[u][t],this);return this._hydratedPropertyCount++,this._properties[t]=s},getFirstSubcomponent:function(t){if(t){for(var s=0,a=this.jCal[r],l=a.length;s<l;s++)if(a[s][e]===t){var c=this._hydrateComponent(s);return c}}else if(this.jCal[r].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(t){var s=this.jCal[r].length,a=0;if(t){for(var l=this.jCal[r],c=[];a<s;a++)t===l[a][e]&&c.push(this._hydrateComponent(a));return c}else{if(!this._components||this._hydratedComponentCount!==s)for(;a<s;a++)this._hydrateComponent(a);return this._components||[]}},hasProperty:function(t){for(var s=this.jCal[u],a=s.length,l=0;l<a;l++)if(s[l][e]===t)return!0;return!1},getFirstProperty:function(t){if(t){for(var s=0,a=this.jCal[u],l=a.length;s<l;s++)if(a[s][e]===t){var c=this._hydrateProperty(s);return c}}else if(this.jCal[u].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(t){var s=this.getFirstProperty(t);return s?s.getFirstValue():null},getAllProperties:function(t){var s=this.jCal[u].length,a=0;if(t){for(var l=this.jCal[u],c=[];a<s;a++)t===l[a][e]&&c.push(this._hydrateProperty(a));return c}else{if(!this._properties||this._hydratedPropertyCount!==s)for(;a<s;a++)this._hydrateProperty(a);return this._properties||[]}},_removeObjectByIndex:function(t,s,a){if(s=s||[],s[a]){var l=s[a];"parent"in l&&(l.parent=null)}s.splice(a,1),this.jCal[t].splice(a,1)},_removeObject:function(t,s,a){var l=0,c=this.jCal[t],v=c.length,f=this[s];if(typeof a=="string"){for(;l<v;l++)if(c[l][e]===a)return this._removeObjectByIndex(t,f,l),!0}else if(f){for(;l<v;l++)if(f[l]&&f[l]===a)return this._removeObjectByIndex(t,f,l),!0}return!1},_removeAllObjects:function(t,s,a){for(var l=this[s],c=this.jCal[t],v=c.length-1;v>=0;v--)(!a||c[v][e]===a)&&this._removeObjectByIndex(t,l,v)},addSubcomponent:function(t){this._components||(this._components=[],this._hydratedComponentCount=0),t.parent&&t.parent.removeSubcomponent(t);var s=this.jCal[r].push(t.jCal);return this._components[s-1]=t,this._hydratedComponentCount++,t.parent=this,t},removeSubcomponent:function(t){var s=this._removeObject(r,"_components",t);return s&&this._hydratedComponentCount--,s},removeAllSubcomponents:function(t){var s=this._removeAllObjects(r,"_components",t);return this._hydratedComponentCount=0,s},addProperty:function(t){if(!(t instanceof n.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),t.parent&&t.parent.removeProperty(t);var s=this.jCal[u].push(t.jCal);return this._properties[s-1]=t,this._hydratedPropertyCount++,t.parent=this,t},addPropertyWithValue:function(t,s){var a=new n.Property(t);return a.setValue(s),this.addProperty(a),a},updatePropertyWithValue:function(t,s){var a=this.getFirstProperty(t);return a?a.setValue(s):a=this.addPropertyWithValue(t,s),a},removeProperty:function(t){var s=this._removeObject(u,"_properties",t);return s&&this._hydratedPropertyCount--,s},removeAllProperties:function(t){var s=this._removeAllObjects(u,"_properties",t);return this._hydratedPropertyCount=0,s},toJSON:function(){return this.jCal},toString:function(){return n.stringify.component(this.jCal,this._designSet)}},i.fromString=function(t){return new i(n.parse.component(t))},i}();n.Property=function(){"use strict";var u=0,r=1,e=2,i=3,t=n.design;function s(a,l){this._parent=l||null,typeof a=="string"?(this.jCal=[a,{},t.defaultType],this.jCal[e]=this.getDefaultType()):this.jCal=a,this._updateType()}return s.prototype={get type(){return this.jCal[e]},get name(){return this.jCal[u]},get parent(){return this._parent},set parent(a){var l=!this._parent||a&&a._designSet!=this._parent._designSet;return this._parent=a,this.type==t.defaultType&&l&&(this.jCal[e]=this.getDefaultType(),this._updateType()),a},get _designSet(){return this.parent?this.parent._designSet:t.defaultSet},_updateType:function(){var a=this._designSet;if(this.type in a.value){var l=a.value[this.type];"decorate"in a.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in a.property&&(this.isMultiValue="multiValue"in a.property[this.name],this.isStructuredValue="structuredValue"in a.property[this.name])}},_hydrateValue:function(a){return this._values&&this._values[a]?this._values[a]:this.jCal.length<=i+a?null:this.isDecorated?(this._values||(this._values=[]),this._values[a]=this._decorate(this.jCal[i+a])):this.jCal[i+a]},_decorate:function(a){return this._designSet.value[this.type].decorate(a,this)},_undecorate:function(a){return this._designSet.value[this.type].undecorate(a,this)},_setDecoratedValue:function(a,l){this._values||(this._values=[]),typeof a=="object"&&"icaltype"in a?(this.jCal[i+l]=this._undecorate(a),this._values[l]=a):(this.jCal[i+l]=a,this._values[l]=this._decorate(a))},getParameter:function(a){if(a in this.jCal[r])return this.jCal[r][a]},getFirstParameter:function(a){var l=this.getParameter(a);return Array.isArray(l)?l[0]:l},setParameter:function(a,l){var c=a.toLowerCase();typeof l=="string"&&c in this._designSet.param&&"multiValue"in this._designSet.param[c]&&(l=[l]),this.jCal[r][a]=l},removeParameter:function(a){delete this.jCal[r][a]},getDefaultType:function(){var a=this.jCal[u],l=this._designSet;if(a in l.property){var c=l.property[a];if("defaultType"in c)return c.defaultType}return t.defaultType},resetType:function(a){this.removeAllValues(),this.jCal[e]=a,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var a=this.jCal.length-i;if(a<1)return[];for(var l=0,c=[];l<a;l++)c[l]=this._hydrateValue(l);return c},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(a){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);var l=a.length,c=0;if(this.removeAllValues(),l>0&&typeof a[0]=="object"&&"icaltype"in a[0]&&this.resetType(a[0].icaltype),this.isDecorated)for(;c<l;c++)this._setDecoratedValue(a[c],c);else for(;c<l;c++)this.jCal[i+c]=a[c]},setValue:function(a){this.removeAllValues(),typeof a=="object"&&"icaltype"in a&&this.resetType(a.icaltype),this.isDecorated?this._setDecoratedValue(a,0):this.jCal[i]=a},toJSON:function(){return this.jCal},toICALString:function(){return n.stringify.property(this.jCal,this._designSet,!0)}},s.fromString=function(a,l){return new s(n.parse.property(a,l))},s}();n.UtcOffset=function(){function u(r){this.fromData(r)}return u.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return n.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);this._normalize()},fromSeconds:function(r){var e=Math.abs(r);return this.factor=r<0?-1:1,this.hours=n.helpers.trunc(e/3600),e-=this.hours*3600,this.minutes=n.helpers.trunc(e/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(e){var i=this.toSeconds(),t=e.toSeconds();return(i>t)-(t>i)},_normalize:function(){for(var r=this.toSeconds(),e=this.factor;r<-43200;)r+=97200;for(;r>50400;)r-=97200;this.fromSeconds(r),r==0&&(this.factor=e)},toICALString:function(){return n.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(this.factor==1?"+":"-")+n.helpers.pad2(this.hours)+":"+n.helpers.pad2(this.minutes)}},u.fromString=function(r){var e={};return e.factor=r[0]==="+"?1:-1,e.hours=n.helpers.strictParseInt(r.substr(1,2)),e.minutes=n.helpers.strictParseInt(r.substr(4,2)),new n.UtcOffset(e)},u.fromSeconds=function(r){var e=new u;return e.fromSeconds(r),e},u}();n.Binary=function(){function u(r){this.value=r}return u.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(e){this.value=this._b64_encode(e)},_b64_encode:function(e){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t,s,a,l,c,v,f,d,o=0,m=0,y="",p=[];if(!e)return e;do t=e.charCodeAt(o++),s=e.charCodeAt(o++),a=e.charCodeAt(o++),d=t<<16|s<<8|a,l=d>>18&63,c=d>>12&63,v=d>>6&63,f=d&63,p[m++]=i.charAt(l)+i.charAt(c)+i.charAt(v)+i.charAt(f);while(o<e.length);y=p.join("");var _=e.length%3;return(_?y.slice(0,_-3):y)+"===".slice(_||3)},_b64_decode:function(e){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t,s,a,l,c,v,f,d,o=0,m=0,y="",p=[];if(!e)return e;e+="";do l=i.indexOf(e.charAt(o++)),c=i.indexOf(e.charAt(o++)),v=i.indexOf(e.charAt(o++)),f=i.indexOf(e.charAt(o++)),d=l<<18|c<<12|v<<6|f,t=d>>16&255,s=d>>8&255,a=d&255,v==64?p[m++]=String.fromCharCode(t):f==64?p[m++]=String.fromCharCode(t,s):p[m++]=String.fromCharCode(t,s,a);while(o<e.length);return y=p.join(""),y},toString:function(){return this.value}},u.fromString=function(r){return new u(r)},u}();(function(){n.Period=function(r){if(this.wrappedJSObject=this,r&&"start"in r){if(r.start&&!(r.start instanceof n.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=r.start}if(r&&r.end&&r.duration)throw new Error("cannot accept both end and duration");if(r&&"end"in r){if(r.end&&!(r.end instanceof n.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=r.end}if(r&&"duration"in r){if(r.duration&&!(r.duration instanceof n.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=r.duration}},n.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return n.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var u=this.start.clone();return u.addDuration(this.duration),u},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},n.Period.fromString=function(r,e){var i=r.split("/");if(i.length!==2)throw new Error('Invalid string value: "'+r+'" must contain a "/" char.');var t={start:n.Time.fromDateTimeString(i[0],e)},s=i[1];return n.Duration.isValueString(s)?t.duration=n.Duration.fromString(s):t.end=n.Time.fromDateTimeString(s,e),new n.Period(t)},n.Period.fromData=function(r){return new n.Period(r)},n.Period.fromJSON=function(u,r,e){function i(t,s){return e?n.Time.fromString(t,s):n.Time.fromDateTimeString(t,s)}return n.Duration.isValueString(u[1])?n.Period.fromData({start:i(u[0],r),duration:n.Duration.fromString(u[1])}):n.Period.fromData({start:i(u[0],r),end:i(u[1],r)})}})();(function(){var u=/([PDWHMTS]{1,1})/;n.Duration=function(i){this.wrappedJSObject=this,this.fromData(i)},n.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return n.Duration.fromData(this)},toSeconds:function(){var i=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-i:i},fromSeconds:function(i){var t=Math.abs(i);return this.isNegative=i<0,this.days=n.helpers.trunc(t/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,t-=(this.days+7*this.weeks)*86400,this.hours=n.helpers.trunc(t/3600),t-=this.hours*3600,this.minutes=n.helpers.trunc(t/60),t-=this.minutes*60,this.seconds=t,this},fromData:function(i){var t=["weeks","days","hours","minutes","seconds","isNegative"];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];i&&a in i?this[a]=i[a]:this[a]=0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(i){var t=this.toSeconds(),s=i.toSeconds();return(t>s)-(t<s)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(this.toSeconds()==0)return"PT0S";var i="";return this.isNegative&&(i+="-"),i+="P",this.weeks&&(i+=this.weeks+"W"),this.days&&(i+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(i+="T",this.hours&&(i+=this.hours+"H"),this.minutes&&(i+=this.minutes+"M"),this.seconds&&(i+=this.seconds+"S")),i},toICALString:function(){return this.toString()}},n.Duration.fromSeconds=function(i){return new n.Duration().fromSeconds(i)};function r(e,i,t){var s;switch(e){case"P":i&&i==="-"?t.isNegative=!0:t.isNegative=!1;break;case"D":s="days";break;case"W":s="weeks";break;case"H":s="hours";break;case"M":s="minutes";break;case"S":s="seconds";break;default:return 0}if(s){if(!i&&i!==0)throw new Error('invalid duration value: Missing number before "'+e+'"');var a=parseInt(i,10);if(n.helpers.isStrictlyNaN(a))throw new Error('invalid duration value: Invalid number "'+i+'" before "'+e+'"');t[s]=a}return 1}n.Duration.isValueString=function(e){return e[0]==="P"||e[1]==="P"},n.Duration.fromString=function(i){for(var t=0,s=Object.create(null),a=0;(t=i.search(u))!==-1;){var l=i[t],c=i.substr(0,t);i=i.substr(t+1),a+=r(l,c,s)}if(a<2)throw new Error('invalid duration value: Not enough duration components in "'+i+'"');return new n.Duration(s)},n.Duration.fromData=function(i){return new n.Duration(i)}})();(function(){var u=["tzid","location","tznames","latitude","longitude"];n.Timezone=function(e){this.wrappedJSObject=this,this.fromData(e)},n.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof n.Component)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){var i=n.parse(e.component);this.component=new n.Component(i)}else e.component instanceof n.Component?this.component=e.component:this.component=null;for(var t in u)if(u.hasOwnProperty(t)){var s=u[t];e&&s in e&&(this[s]=e[s])}}return this.component instanceof n.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(e){if(this==n.Timezone.utcTimezone||this==n.Timezone.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;for(var i={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},t=this._findNearbyChange(i),s=-1,a=1;;){var l=n.helpers.clone(this.changes[t],!0);l.utcOffset<l.prevUtcOffset?n.Timezone.adjust_change(l,0,0,0,l.utcOffset):n.Timezone.adjust_change(l,0,0,0,l.prevUtcOffset);var c=n.Timezone._compare_change_fn(i,l);if(c>=0?s=t:a=-1,a==-1&&s!=-1)break;if(t+=a,t<0)return 0;if(t>=this.changes.length)break}var v=this.changes[s],f=v.utcOffset-v.prevUtcOffset;if(f<0&&s>0){var d=n.helpers.clone(v,!0);if(n.Timezone.adjust_change(d,0,0,0,d.prevUtcOffset),n.Timezone._compare_change_fn(i,d)<0){var o=this.changes[s-1],m=!1;v.is_daylight!=m&&o.is_daylight==m&&(v=o)}}return v.utcOffset},_findNearbyChange:function(e){var i=n.helpers.binsearchInsert(this.changes,e,n.Timezone._compare_change_fn);return i>=this.changes.length?this.changes.length-1:i},_ensureCoverage:function(r){if(n.Timezone._minimumExpansionYear==-1){var e=n.Time.now();n.Timezone._minimumExpansionYear=e.year}var i=r;if(i<n.Timezone._minimumExpansionYear&&(i=n.Timezone._minimumExpansionYear),i+=n.Timezone.EXTRA_COVERAGE,i>n.Timezone.MAX_YEAR&&(i=n.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<r){for(var t=this.component.getAllSubcomponents(),s=t.length,a=0;a<s;a++)this._expandComponent(t[a],i,this.changes);this.changes.sort(n.Timezone._compare_change_fn),this.expandedUntilYear=i}},_expandComponent:function(r,e,i){if(!r.hasProperty("dtstart")||!r.hasProperty("tzoffsetto")||!r.hasProperty("tzoffsetfrom"))return null;var t=r.getFirstProperty("dtstart").getFirstValue(),s;function a(p){return p.factor*(p.hours*3600+p.minutes*60)}function l(){var p={};return p.is_daylight=r.name=="daylight",p.utcOffset=a(r.getFirstProperty("tzoffsetto").getFirstValue()),p.prevUtcOffset=a(r.getFirstProperty("tzoffsetfrom").getFirstValue()),p}if(!r.hasProperty("rrule")&&!r.hasProperty("rdate"))s=l(),s.year=t.year,s.month=t.month,s.day=t.day,s.hour=t.hour,s.minute=t.minute,s.second=t.second,n.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset),i.push(s);else{var c=r.getAllProperties("rdate");for(var v in c)if(c.hasOwnProperty(v)){var f=c[v],d=f.getFirstValue();s=l(),s.year=d.year,s.month=d.month,s.day=d.day,d.isDate?(s.hour=t.hour,s.minute=t.minute,s.second=t.second,t.zone!=n.Timezone.utcTimezone&&n.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset)):(s.hour=d.hour,s.minute=d.minute,s.second=d.second,d.zone!=n.Timezone.utcTimezone&&n.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset)),i.push(s)}var o=r.getFirstProperty("rrule");if(o){o=o.getFirstValue(),s=l(),o.until&&o.until.zone==n.Timezone.utcTimezone&&(o.until.adjust(0,0,0,s.prevUtcOffset),o.until.zone=n.Timezone.localTimezone);for(var m=o.iterator(t),y;(y=m.next())&&(s=l(),!(y.year>e||!y));)s.year=y.year,s.month=y.month,s.day=y.day,s.hour=y.hour,s.minute=y.minute,s.second=y.second,s.isDate=y.isDate,n.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset),i.push(s)}}return i},toString:function(){return this.tznames?this.tznames:this.tzid}},n.Timezone._compare_change_fn=function(e,i){return e.year<i.year?-1:e.year>i.year?1:e.month<i.month?-1:e.month>i.month?1:e.day<i.day?-1:e.day>i.day?1:e.hour<i.hour?-1:e.hour>i.hour?1:e.minute<i.minute?-1:e.minute>i.minute?1:e.second<i.second?-1:e.second>i.second?1:0},n.Timezone.convert_time=function(e,i,t){if(e.isDate||i.tzid==t.tzid||i==n.Timezone.localTimezone||t==n.Timezone.localTimezone)return e.zone=t,e;var s=i.utcOffset(e);return e.adjust(0,0,0,-s),s=t.utcOffset(e),e.adjust(0,0,0,s),null},n.Timezone.fromData=function(e){var i=new n.Timezone;return i.fromData(e)},n.Timezone.utcTimezone=n.Timezone.fromData({tzid:"UTC"}),n.Timezone.localTimezone=n.Timezone.fromData({tzid:"floating"}),n.Timezone.adjust_change=function(e,i,t,s,a){return n.Time.prototype.adjust.call(e,i,t,s,a,e)},n.Timezone._minimumExpansionYear=-1,n.Timezone.MAX_YEAR=2035,n.Timezone.EXTRA_COVERAGE=5})();n.TimezoneService=function(){var u,r={get count(){return Object.keys(u).length},reset:function(){u=Object.create(null);var e=n.Timezone.utcTimezone;u.Z=e,u.UTC=e,u.GMT=e},has:function(e){return!!u[e]},get:function(e){return u[e]},register:function(e,i){if(e instanceof n.Component&&e.name==="vtimezone"&&(i=new n.Timezone(e),e=i.tzid),i instanceof n.Timezone)u[e]=i;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(e){return delete u[e]}};return r.reset(),r}();(function(){n.Time=function(r,e){this.wrappedJSObject=this;var i=this._time=Object.create(null);i.year=0,i.month=1,i.day=1,i.hour=0,i.minute=0,i.second=0,i.isDate=!1,this.fromData(r,e)},n.Time._dowCache={},n.Time._wnCache={},n.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new n.Time(this._time,this.zone)},reset:function(){this.fromData(n.Time.epochTime),this.zone=n.Timezone.utcTimezone},resetTo:function(r,e,i,t,s,a,l){this.fromData({year:r,month:e,day:i,hour:t,minute:s,second:a,zone:l})},fromJSDate:function(r,e){return r?e?(this.zone=n.Timezone.utcTimezone,this.year=r.getUTCFullYear(),this.month=r.getUTCMonth()+1,this.day=r.getUTCDate(),this.hour=r.getUTCHours(),this.minute=r.getUTCMinutes(),this.second=r.getUTCSeconds()):(this.zone=n.Timezone.localTimezone,this.year=r.getFullYear(),this.month=r.getMonth()+1,this.day=r.getDate(),this.hour=r.getHours(),this.minute=r.getMinutes(),this.second=r.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(r,e){if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(i==="icaltype")continue;this[i]=r[i]}}if(e&&(this.zone=e),r&&!("isDate"in r)?this.isDate=!("hour"in r):r&&"isDate"in r&&(this.isDate=r.isDate),r&&"timezone"in r){var t=n.TimezoneService.get(r.timezone);this.zone=t||n.Timezone.localTimezone}return r&&"zone"in r&&(this.zone=r.zone),this.zone||(this.zone=n.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(r){var e=r||n.Time.SUNDAY,i=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(i in n.Time._dowCache)return n.Time._dowCache[i];var t=this.day,s=this.month+(this.month<3?12:0),a=this.year-(this.month<3?1:0),l=t+a+n.helpers.trunc((s+1)*26/10)+n.helpers.trunc(a/4);return l+=n.helpers.trunc(a/100)*6+n.helpers.trunc(a/400),l=(l+7-e)%7+1,n.Time._dowCache[i]=l,l},dayOfYear:function(){var r=n.Time.isLeapYear(this.year)?1:0,e=n.Time.daysInYearPassedMonth;return e[r][this.month-1]+this.day},startOfWeek:function(r){var e=r||n.Time.SUNDAY,i=this.clone();return i.day-=(this.dayOfWeek()+7-e)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i},endOfWeek:function(r){var e=r||n.Time.SUNDAY,i=this.clone();return i.day+=(7-this.dayOfWeek()+e-n.Time.SUNDAY)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i},startOfMonth:function(){var r=this.clone();return r.day=1,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},endOfMonth:function(){var r=this.clone();return r.day=n.Time.daysInMonth(r.month,r.year),r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},startOfYear:function(){var r=this.clone();return r.day=1,r.month=1,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},endOfYear:function(){var r=this.clone();return r.day=31,r.month=12,r.isDate=!0,r.hour=0,r.minute=0,r.second=0,r},startDoyWeek:function(r){var e=r||n.Time.SUNDAY,i=this.dayOfWeek()-e;return i<0&&(i+=7),this.dayOfYear()-i},getDominicalLetter:function(){return n.Time.getDominicalLetter(this.year)},nthWeekDay:function(r,e){var i=n.Time.daysInMonth(this.month,this.year),t,s=e,a=0,l=this.clone();if(s>=0){l.day=1,s!=0&&s--,a=l.day;var c=l.dayOfWeek(),v=r-c;v<0&&(v+=7),a+=v,a-=r,t=r}else{l.day=i;var f=l.dayOfWeek();s++,t=f-r,t<0&&(t+=7),t=i-t}return t+=s*7,a+t},isNthWeekDay:function(u,r){var e=this.dayOfWeek();if(r===0&&e===u)return!0;var i=this.nthWeekDay(u,r);return i===this.day},weekNumber:function(r){var e=(this.year<<12)+(this.month<<8)+(this.day<<3)+r;if(e in n.Time._wnCache)return n.Time._wnCache[e];var i,t=this.clone();t.isDate=!0;var s=this.year;t.month==12&&t.day>25?(i=n.Time.weekOneStarts(s+1,r),t.compare(i)<0?i=n.Time.weekOneStarts(s,r):s++):(i=n.Time.weekOneStarts(s,r),t.compare(i)<0&&(i=n.Time.weekOneStarts(--s,r)));var a=t.subtractDate(i).toSeconds()/86400,l=n.helpers.trunc(a/7)+1;return n.Time._wnCache[e]=l,l},addDuration:function(r){var e=r.isNegative?-1:1,i=this.second,t=this.minute,s=this.hour,a=this.day;i+=e*r.seconds,t+=e*r.minutes,s+=e*r.hours,a+=e*r.days,a+=e*7*r.weeks,this.second=i,this.minute=t,this.hour=s,this.day=a,this._cachedUnixTime=null},subtractDate:function(r){var e=this.toUnixTime()+this.utcOffset(),i=r.toUnixTime()+r.utcOffset();return n.Duration.fromSeconds(e-i)},subtractDateTz:function(r){var e=this.toUnixTime(),i=r.toUnixTime();return n.Duration.fromSeconds(e-i)},compare:function(r){var e=this.toUnixTime(),i=r.toUnixTime();return e>i?1:i>e?-1:0},compareDateOnlyTz:function(r,e){function i(l){return n.Time._cmp_attr(t,s,l)}var t=this.convertToZone(e),s=r.convertToZone(e),a=0;return(a=i("year"))!=0||(a=i("month"))!=0||(a=i("day"))!=0,a},convertToZone:function(r){var e=this.clone(),i=this.zone.tzid==r.tzid;return!this.isDate&&!i&&n.Timezone.convert_time(e,this.zone,r),e.zone=r,e},utcOffset:function(){return this.zone==n.Timezone.localTimezone||this.zone==n.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var u=this.toString();return u.length>10?n.design.icalendar.value["date-time"].toICAL(u):n.design.icalendar.value.date.toICAL(u)},toString:function(){var r=this.year+"-"+n.helpers.pad2(this.month)+"-"+n.helpers.pad2(this.day);return this.isDate||(r+="T"+n.helpers.pad2(this.hour)+":"+n.helpers.pad2(this.minute)+":"+n.helpers.pad2(this.second),this.zone===n.Timezone.utcTimezone&&(r+="Z")),r},toJSDate:function(){return this.zone==n.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)},_normalize:function(){var r=this._time.isDate;return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(r,e,i,t,s){var a,l,c=0,v=0,f,d,o,m,y,p=s||this._time;if(p.isDate||(f=p.second+t,p.second=f%60,a=n.helpers.trunc(f/60),p.second<0&&(p.second+=60,a--),d=p.minute+i+a,p.minute=d%60,l=n.helpers.trunc(d/60),p.minute<0&&(p.minute+=60,l--),o=p.hour+e+l,p.hour=o%24,c=n.helpers.trunc(o/24),p.hour<0&&(p.hour+=24,c--)),p.month>12?v=n.helpers.trunc((p.month-1)/12):p.month<1&&(v=n.helpers.trunc(p.month/12)-1),p.year+=v,p.month-=12*v,m=p.day+r+c,m>0)for(;y=n.Time.daysInMonth(p.month,p.year),!(m<=y);)p.month++,p.month>12&&(p.year++,p.month=1),m-=y;else for(;m<=0;)p.month==1?(p.year--,p.month=12):p.month--,m+=n.Time.daysInMonth(p.month,p.year);return p.day=m,this._cachedUnixTime=null,this},fromUnixTime:function(r){this.zone=n.Timezone.utcTimezone;var e=n.Time.epochTime.clone();e.adjust(0,0,0,r),this.year=e.year,this.month=e.month,this.day=e.day,this.hour=e.hour,this.minute=e.minute,this.second=Math.floor(e.second),this._cachedUnixTime=null},toUnixTime:function(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;var r=this.utcOffset(),e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-r);return this._cachedUnixTime=e/1e3,this._cachedUnixTime},toJSON:function(){for(var u=["year","month","day","hour","minute","second","isDate"],r=Object.create(null),e=0,i=u.length,t;e<i;e++)t=u[e],r[t]=this[t];return this.zone&&(r.timezone=this.zone.tzid),r}},function(){function r(e){Object.defineProperty(n.Time.prototype,e,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[e]},set:function(t){return e==="isDate"&&t&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[e]=t,t}})}"defineProperty"in Object&&(r("year"),r("month"),r("day"),r("hour"),r("minute"),r("second"),r("isDate"))}(),n.Time.daysInMonth=function(r,e){var i=[0,31,28,31,30,31,30,31,31,30,31,30,31],t=30;return r<1||r>12||(t=i[r],r==2&&(t+=n.Time.isLeapYear(e))),t},n.Time.isLeapYear=function(r){return r<=1752?r%4==0:r%4==0&&r%100!=0||r%400==0},n.Time.fromDayOfYear=function(r,e){var i=e,t=r,s=new n.Time;s.auto_normalize=!1;var a=n.Time.isLeapYear(i)?1:0;if(t<1)return i--,a=n.Time.isLeapYear(i)?1:0,t+=n.Time.daysInYearPassedMonth[a][12],n.Time.fromDayOfYear(t,i);if(t>n.Time.daysInYearPassedMonth[a][12])return a=n.Time.isLeapYear(i)?1:0,t-=n.Time.daysInYearPassedMonth[a][12],i++,n.Time.fromDayOfYear(t,i);s.year=i,s.isDate=!0;for(var l=11;l>=0;l--)if(t>n.Time.daysInYearPassedMonth[a][l]){s.month=l+1,s.day=t-n.Time.daysInYearPassedMonth[a][l];break}return s.auto_normalize=!0,s},n.Time.fromStringv2=function(r){return new n.Time({year:parseInt(r.substr(0,4),10),month:parseInt(r.substr(5,2),10),day:parseInt(r.substr(8,2),10),isDate:!0})},n.Time.fromDateString=function(u){return new n.Time({year:n.helpers.strictParseInt(u.substr(0,4)),month:n.helpers.strictParseInt(u.substr(5,2)),day:n.helpers.strictParseInt(u.substr(8,2)),isDate:!0})},n.Time.fromDateTimeString=function(u,r){if(u.length<19)throw new Error('invalid date-time value: "'+u+'"');var e;u[19]&&u[19]==="Z"?e="Z":r&&(e=r.getParameter("tzid"));var i=new n.Time({year:n.helpers.strictParseInt(u.substr(0,4)),month:n.helpers.strictParseInt(u.substr(5,2)),day:n.helpers.strictParseInt(u.substr(8,2)),hour:n.helpers.strictParseInt(u.substr(11,2)),minute:n.helpers.strictParseInt(u.substr(14,2)),second:n.helpers.strictParseInt(u.substr(17,2)),timezone:e});return i},n.Time.fromString=function(r,e){return r.length>10?n.Time.fromDateTimeString(r,e):n.Time.fromDateString(r)},n.Time.fromJSDate=function(r,e){var i=new n.Time;return i.fromJSDate(r,e)},n.Time.fromData=function(r,e){var i=new n.Time;return i.fromData(r,e)},n.Time.now=function(){return n.Time.fromJSDate(new Date,!1)},n.Time.weekOneStarts=function(r,e){var i=n.Time.fromData({year:r,month:1,day:1,isDate:!0}),t=i.dayOfWeek(),s=e||n.Time.DEFAULT_WEEK_START;return t>n.Time.THURSDAY&&(i.day+=7),s>n.Time.THURSDAY&&(i.day-=7),i.day-=t-s,i},n.Time.getDominicalLetter=function(u){var r="GFEDCBA",e=(u+(u/4|0)+(u/400|0)-(u/100|0)-1)%7,i=n.Time.isLeapYear(u);return i?r[(e+6)%7]+r[e]:r[e]},n.Time.epochTime=n.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),n.Time._cmp_attr=function(r,e,i){return r[i]>e[i]?1:r[i]<e[i]?-1:0},n.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],n.Time.SUNDAY=1,n.Time.MONDAY=2,n.Time.TUESDAY=3,n.Time.WEDNESDAY=4,n.Time.THURSDAY=5,n.Time.FRIDAY=6,n.Time.SATURDAY=7,n.Time.DEFAULT_WEEK_START=n.Time.MONDAY})();(function(){n.VCardTime=function(u,r,e){this.wrappedJSObject=this;var i=this._time=Object.create(null);i.year=null,i.month=null,i.day=null,i.hour=null,i.minute=null,i.second=null,this.icaltype=e||"date-and-or-time",this.fromData(u,r)},n.helpers.inherits(n.Time,n.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new n.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof n.UtcOffset?this.zone.toSeconds():n.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return n.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var r=n.helpers.pad2,e=this.year,i=this.month,t=this.day,s=this.hour,a=this.minute,l=this.second,c=e!==null,v=i!==null,f=t!==null,d=s!==null,o=a!==null,m=l!==null,y=(c?r(e)+(v||f?"-":""):v||f?"--":"")+(v?r(i):"")+(f?"-"+r(t):""),p=(d?r(s):"-")+(d&&o?":":"")+(o?r(a):"")+(!d&&!o?"-":"")+(o&&m?":":"")+(m?r(l):""),_;if(this.zone===n.Timezone.utcTimezone)_="Z";else if(this.zone instanceof n.UtcOffset)_=this.zone.toString();else if(this.zone===n.Timezone.localTimezone)_="";else if(this.zone instanceof n.Timezone){var O=n.UtcOffset.fromSeconds(this.zone.utcOffset(this));_=O.toString()}else _="";switch(this.icaltype){case"time":return p+_;case"date-and-or-time":case"date-time":return y+(p=="--"?"":"T"+p+_);case"date":return y}return null}}),n.VCardTime.fromDateAndOrTimeString=function(u,r){function e(p,_,O){return p?n.helpers.strictParseInt(p.substr(_,O)):null}var i=u.split("T"),t=i[0],s=i[1],a=s?n.design.vcard.value.time._splitZone(s):[],l=a[0],c=a[1],v=n.helpers.strictParseInt,f=t?t.length:0,d=c?c.length:0,o=t&&t[0]=="-"&&t[1]=="-",m=c&&c[0]=="-",y={year:o?null:e(t,0,4),month:o&&(f==4||f==7)?e(t,2,2):f==7||f==10?e(t,5,2):null,day:f==5?e(t,3,2):f==7&&o?e(t,5,2):f==10?e(t,8,2):null,hour:m?null:e(c,0,2),minute:m&&d==3?e(c,1,2):d>4?m?e(c,1,2):e(c,3,2):null,second:d==4?e(c,2,2):d==6?e(c,4,2):d==8?e(c,6,2):null};return l=="Z"?l=n.Timezone.utcTimezone:l&&l[3]==":"?l=n.UtcOffset.fromString(l):l=null,new n.VCardTime(y,l,r)}})();(function(){var u={SU:n.Time.SUNDAY,MO:n.Time.MONDAY,TU:n.Time.TUESDAY,WE:n.Time.WEDNESDAY,TH:n.Time.THURSDAY,FR:n.Time.FRIDAY,SA:n.Time.SATURDAY},r={};for(var e in u)u.hasOwnProperty(e)&&(r[u[e]]=e);var i=["BYSECOND","BYMINUTE","BYHOUR","BYDAY","BYMONTHDAY","BYYEARDAY","BYWEEKNO","BYMONTH","BYSETPOS"];n.Recur=function(d){this.wrappedJSObject=this,this.parts={},d&&typeof d=="object"&&this.fromData(d)},n.Recur.prototype={parts:null,interval:1,wkst:n.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(f){return new n.RecurIterator({rule:this,dtstart:f})},clone:function(){return new n.Recur(this.toJSON())},isFinite:function(){return!!(this.count||this.until)},isByCount:function(){return!!(this.count&&!this.until)},addComponent:function(d,o){var m=d.toUpperCase();m in this.parts?this.parts[m].push(o):this.parts[m]=[o]},setComponent:function(d,o){this.parts[d.toUpperCase()]=o.slice()},getComponent:function(d){var o=d.toUpperCase();return o in this.parts?this.parts[o].slice():[]},getNextOccurrence:function(d,o){var m=this.iterator(d),y,p;do y=m.next();while(y&&y.compare(o)<=0);return y&&o.zone&&(y.zone=o.zone),y},fromData:function(f){for(var d in f){var o=d.toUpperCase();o in v?Array.isArray(f[d])?this.parts[o]=f[d]:this.parts[o]=[f[d]]:this[d]=f[d]}this.interval&&typeof this.interval!="number"&&c.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=n.Recur.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof n.Time)&&(this.until=n.Time.fromString(this.until))},toJSON:function(){var f=Object.create(null);f.freq=this.freq,this.count&&(f.count=this.count),this.interval>1&&(f.interval=this.interval);for(var d in this.parts)if(this.parts.hasOwnProperty(d)){var o=this.parts[d];Array.isArray(o)&&o.length==1?f[d.toLowerCase()]=o[0]:f[d.toLowerCase()]=n.helpers.clone(this.parts[d])}return this.until&&(f.until=this.until.toString()),"wkst"in this&&this.wkst!==n.Time.DEFAULT_WEEK_START&&(f.wkst=n.Recur.numericDayToIcalDay(this.wkst)),f},toString:function(){var d="FREQ="+this.freq;this.count&&(d+=";COUNT="+this.count),this.interval>1&&(d+=";INTERVAL="+this.interval);for(var o in this.parts)this.parts.hasOwnProperty(o)&&(d+=";"+o+"="+this.parts[o]);return this.until&&(d+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==n.Time.DEFAULT_WEEK_START&&(d+=";WKST="+n.Recur.numericDayToIcalDay(this.wkst)),d}};function t(f,d,o,m){var y=m;if(m[0]==="+"&&(y=m.substr(1)),y=n.helpers.strictParseInt(y),d!==void 0&&m<d)throw new Error(f+': invalid value "'+m+'" must be > '+d);if(o!==void 0&&m>o)throw new Error(f+': invalid value "'+m+'" must be < '+d);return y}n.Recur.icalDayToNumericDay=function(d,o){var m=o||n.Time.SUNDAY;return(u[d]-m+7)%7+1},n.Recur.numericDayToIcalDay=function(d,o){var m=o||n.Time.SUNDAY,y=d+m-n.Time.SUNDAY;return y>7&&(y-=7),r[y]};var s=/^(SU|MO|TU|WE|TH|FR|SA)$/,a=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,l=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],c={FREQ:function(f,d,o){if(l.indexOf(f)!==-1)d.freq=f;else throw new Error('invalid frequency "'+f+'" expected: "'+l.join(", ")+'"')},COUNT:function(f,d,o){d.count=n.helpers.strictParseInt(f)},INTERVAL:function(f,d,o){d.interval=n.helpers.strictParseInt(f),d.interval<1&&(d.interval=1)},UNTIL:function(f,d,o){f.length>10?d.until=n.design.icalendar.value["date-time"].fromICAL(f):d.until=n.design.icalendar.value.date.fromICAL(f),o||(d.until=n.Time.fromString(d.until))},WKST:function(f,d,o){if(s.test(f))d.wkst=n.Recur.icalDayToNumericDay(f);else throw new Error('invalid WKST value "'+f+'"')}},v={BYSECOND:t.bind(this,"BYSECOND",0,60),BYMINUTE:t.bind(this,"BYMINUTE",0,59),BYHOUR:t.bind(this,"BYHOUR",0,23),BYDAY:function(f){if(a.test(f))return f;throw new Error('invalid BYDAY value "'+f+'"')},BYMONTHDAY:t.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:t.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:t.bind(this,"BYWEEKNO",-53,53),BYMONTH:t.bind(this,"BYMONTH",1,12),BYSETPOS:t.bind(this,"BYSETPOS",-366,366)};n.Recur.fromString=function(f){var d=n.Recur._stringToData(f,!1);return new n.Recur(d)},n.Recur.fromData=function(f){return new n.Recur(f)},n.Recur._stringToData=function(f,d){for(var o=Object.create(null),m=f.split(";"),y=m.length,p=0;p<y;p++){var _=m[p].split("="),O=_[0].toUpperCase(),w=_[0].toLowerCase(),E=d?w:O,b=_[1];if(O in v){for(var A=b.split(","),C=0,z=A.length;C<z;C++)A[C]=v[O](A[C]);o[E]=A.length==1?A[0]:A}else O in c?c[O](b,o,d):o[w]=b}return o}})();n.RecurIterator=function(){function u(r){this.fromData(r)}return u.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(r){if(this.rule=n.helpers.formatClassType(r.rule,n.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=n.helpers.formatClassType(r.dtstart,n.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");r.by_data?this.by_data=r.by_data:this.by_data=n.helpers.clone(this.rule.parts,!0),r.occurrence_number&&(this.occurrence_number=r.occurrence_number),this.days=r.days||[],r.last&&(this.last=n.helpers.formatClassType(r.last,n.Time)),this.by_indices=r.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=r.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e||"BYDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){var i=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),t=i[0],s=i[1],a=s-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<s&&a>=0||a<0)&&(this.last.day+=a)}else{var l=n.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[l]}if(this.rule.freq=="YEARLY"){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if(this.rule.freq=="MONTHLY"&&this.has_by_data("BYDAY")){var c=null,v=this.last.clone(),f=n.Time.daysInMonth(this.last.month,this.last.year);for(var d in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(d)){this.last=v.clone();var i=this.ruleDayOfWeek(this.by_data.BYDAY[d]),t=i[0],s=i[1],o=this.last.nthWeekDay(s,t);if(t>=6||t<=-6)throw new Error("Malformed values in BYDAY part");if(o>f||o<=0){if(c&&c.month==v.month)continue;for(;o>f||o<=0;)this.increment_month(),f=n.Time.daysInMonth(this.last.month,this.last.year),o=this.last.nthWeekDay(s,t)}this.last.day=o,(!c||this.last.compare(c)<0)&&(c=this.last.clone())}if(this.last=c.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>f||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var f=n.Time.daysInMonth(this.last.month,this.last.year);this.last.day=f+this.last.day+1}},next:function(){var e=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var i;do switch(i=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":i=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!i);if(this.last.compare(e)==0)throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(e){return this.increment_generic(e,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(e){return this.increment_generic(e,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(e){this.increment_generic(e,"hour",24,"monthday")},next_day:function(){var e="BYDAY"in this.by_data,i=this.rule.freq=="DAILY";return this.next_hour()==0||(i?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0},next_week:function(){var e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){var i=++this.by_indices.BYWEEKNO;this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;var t=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*t,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e},normalizeByMonthDayRules:function(r,e,i){for(var t=n.Time.daysInMonth(e,r),s=[],a=0,l=i.length,c;a<l;a++)if(c=i[a],!(Math.abs(c)>t)){if(c<0)c=t+(c+1);else if(c===0)continue;s.indexOf(c)===-1&&s.push(c)}return s.sort(function(v,f){return v-f})},_byDayAndMonthDay:function(r){var e,i=this.by_data.BYDAY,t,s=0,a,l=i.length,c=0,v,f=this,d=this.last.day;function o(){for(v=n.Time.daysInMonth(f.last.month,f.last.year),e=f.normalizeByMonthDayRules(f.last.year,f.last.month,f.by_data.BYMONTHDAY),a=e.length;e[s]<=d&&!(r&&e[s]==d)&&s<a-1;)s++}function m(){d=0,f.increment_month(),s=0,o()}o(),r&&(d-=1);for(var y=48;!c&&y;){if(y--,t=d+1,t>v){m();continue}var p=e[s++];if(p>=t)d=p;else{m();continue}for(var _=0;_<l;_++){var O=this.ruleDayOfWeek(i[_]),w=O[0],E=O[1];if(this.last.day=d,this.last.isNthWeekDay(E,w)){c=1;break}}if(!c&&s===a){m();continue}}if(y<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return c},next_month:function(){var e=this.rule.freq=="MONTHLY",i=1;if(this.next_hour()==0)return i;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))i=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var t=n.Time.daysInMonth(this.last.month,this.last.year),s=0,a=0;if(this.has_by_data("BYSETPOS")){for(var l=this.last.day,c=1;c<=t;c++)this.last.day=c,this.is_day_in_byday(this.last)&&(a++,c<=l&&s++);this.last.day=l}i=0;for(var c=this.last.day+1;c<=t;c++)if(this.last.day=c,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++s)||this.check_set_position(s-a-1))){i=1;break}c>t&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(i=1):i=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var t=n.Time.daysInMonth(this.last.month,this.last.year),c=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];c<0&&(c=t+c+1),c>t?(this.last.day=1,i=this.is_day_in_byday(this.last)):this.last.day=c}else{this.increment_month();var t=n.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>t?i=0:this.last.day=this.by_data.BYMONTHDAY[0]}return i},next_weekday_by_week:function(){var e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){var i=new n.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);var t=this.by_data.BYDAY[this.by_indices.BYDAY],s=this.ruleDayOfWeek(t),a=s[1];a-=this.rule.wkst,a<0&&(a+=7),i.year=this.last.year,i.month=this.last.month,i.day=this.last.day;var l=i.startDoyWeek(this.rule.wkst);if(!(a+l<1&&!e)){var c=n.Time.fromDayOfYear(l+a,this.last.year);return this.last.year=c.year,this.last.month=c.month,this.last.day=c.day,e}}},next_year:function(){if(this.next_hour()==0)return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);while(this.days.length==0)}return this._nextByYearDay(),1},_nextByYearDay:function(){var e=this.days[this.days_index],i=this.last.year;e<1&&(e+=1,i+=1);var t=n.Time.fromDayOfYear(e,i);this.last.day=t.day,this.last.month=t.month},ruleDayOfWeek:function(e,i){var t=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(t){var s=parseInt(t[1]||0,10);return e=n.Recur.icalDayToNumericDay(t[2],i),[s,e]}else return[0,0]},next_generic:function(e,i,t,s,a){var l=e in this.by_data,c=this.rule.freq==i,v=0;if(a&&this[a]()==0)return v;if(l){this.by_indices[e]++;var f=this.by_indices[e],d=this.by_data[e];this.by_indices[e]==d.length&&(this.by_indices[e]=0,v=1),this.last[t]=d[this.by_indices[e]]}else c&&this["increment_"+t](this.rule.interval);return l&&v&&c&&this["increment_"+s](1),v},increment_monthday:function(e){for(var i=0;i<e;i++){var t=n.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>t&&(this.last.day-=t,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var e=n.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}},increment_year:function(e){this.last.year+=e},increment_generic:function(e,i,t,s){this.last[i]+=e;var a=n.helpers.trunc(this.last[i]/t);this.last[i]%=t,a!=0&&this["increment_"+s](a)},has_by_data:function(e){return e in this.rule.parts},expand_year_days:function(e){var i=new n.Time;this.days=[];var t={},s=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];l in this.rule.parts&&(t[l]=this.rule.parts[l])}if("BYMONTH"in t&&"BYWEEKNO"in t){var c=1,v={};i.year=e,i.isDate=!0;for(var f=0;f<this.by_data.BYMONTH.length;f++){var d=this.by_data.BYMONTH[f];i.month=d,i.day=1;var o=i.weekNumber(this.rule.wkst);i.day=n.Time.daysInMonth(d,e);var m=i.weekNumber(this.rule.wkst);for(f=o;f<m;f++)v[f]=1}for(var y=0;y<this.by_data.BYWEEKNO.length&&c;y++){var p=this.by_data.BYWEEKNO[y];p<52?c&=v[y]:c=0}c?delete t.BYMONTH:delete t.BYWEEKNO}var _=Object.keys(t).length;if(_==0){var O=this.dtstart.clone();O.year=this.last.year,this.days.push(O.dayOfYear())}else if(_==1&&"BYMONTH"in t){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var E=this.dtstart.clone();E.year=e,E.month=this.by_data.BYMONTH[w],E.isDate=!0,this.days.push(E.dayOfYear())}}else if(_==1&&"BYMONTHDAY"in t){for(var b in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(b)){var A=this.dtstart.clone(),C=this.by_data.BYMONTHDAY[b];if(C<0){var z=n.Time.daysInMonth(A.month,e);C=C+z+1}A.day=C,A.year=e,A.isDate=!0,this.days.push(A.dayOfYear())}}else if(_==2&&"BYMONTHDAY"in t&&"BYMONTH"in t){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var B=this.by_data.BYMONTH[w],z=n.Time.daysInMonth(B,e);for(var b in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(b)){var C=this.by_data.BYMONTHDAY[b];C<0&&(C=C+z+1),i.day=C,i.month=B,i.year=e,i.isDate=!0,this.days.push(i.dayOfYear())}}}else if(!(_==1&&"BYWEEKNO"in t)){if(!(_==2&&"BYWEEKNO"in t&&"BYMONTHDAY"in t))if(_==1&&"BYDAY"in t)this.days=this.days.concat(this.expand_by_day(e));else if(_==2&&"BYDAY"in t&&"BYMONTH"in t){for(var w in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(w)){var d=this.by_data.BYMONTH[w],z=n.Time.daysInMonth(d,e);i.year=e,i.month=this.by_data.BYMONTH[w],i.day=1,i.isDate=!0;var W=i.dayOfWeek(),H=i.dayOfYear()-1;i.day=z;var F=i.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var k=0,V=[],M=1;M<=z;M++)i.day=M,this.is_day_in_byday(i)&&V.push(M);for(var R=0;R<V.length;R++)(this.check_set_position(R+1)||this.check_set_position(R-V.length))&&this.days.push(H+V[R])}else for(var h in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(h)){var g=this.by_data.BYDAY[h],L=this.ruleDayOfWeek(g),x=L[0],D=L[1],Y,N=(D+7-W)%7+1,P=z-(F+7-D)%7;if(x==0)for(var M=N;M<=z;M+=7)this.days.push(H+M);else x>0?(Y=N+(x-1)*7,Y<=z&&this.days.push(H+Y)):(Y=P+(x+1)*7,Y>0&&this.days.push(H+Y))}}this.days.sort(function(K,G){return K-G})}else if(_==2&&"BYDAY"in t&&"BYMONTHDAY"in t){var S=this.expand_by_day(e);for(var I in S)if(S.hasOwnProperty(I)){var M=S[I],j=n.Time.fromDayOfYear(M,e);this.by_data.BYMONTHDAY.indexOf(j.day)>=0&&this.days.push(M)}}else if(_==3&&"BYDAY"in t&&"BYMONTHDAY"in t&&"BYMONTH"in t){var S=this.expand_by_day(e);for(var I in S)if(S.hasOwnProperty(I)){var M=S[I],j=n.Time.fromDayOfYear(M,e);this.by_data.BYMONTH.indexOf(j.month)>=0&&this.by_data.BYMONTHDAY.indexOf(j.day)>=0&&this.days.push(M)}}else if(_==2&&"BYDAY"in t&&"BYWEEKNO"in t){var S=this.expand_by_day(e);for(var I in S)if(S.hasOwnProperty(I)){var M=S[I],j=n.Time.fromDayOfYear(M,e),p=j.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(p)&&this.days.push(M)}}else _==3&&"BYDAY"in t&&"BYWEEKNO"in t&&"BYMONTHDAY"in t||(_==1&&"BYYEARDAY"in t?this.days=this.days.concat(this.by_data.BYYEARDAY):this.days=[])}return 0},expand_by_day:function(e){var i=[],t=this.last.clone();t.year=e,t.month=1,t.day=1,t.isDate=!0;var s=t.dayOfWeek();t.month=12,t.day=31,t.isDate=!0;var a=t.dayOfWeek(),l=t.dayOfYear();for(var c in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(c)){var v=this.by_data.BYDAY[c],f=this.ruleDayOfWeek(v),d=f[0],o=f[1];if(d==0)for(var m=(o+7-s)%7+1,y=m;y<=l;y+=7)i.push(y);else if(d>0){var p;o>=s?p=o-s+1:p=o-s+8,i.push(p+(d-1)*7)}else{var _;d=-d,o<=a?_=l-a+o:_=l-a+o-7,i.push(_-(d-1)*7)}}return i},is_day_in_byday:function(e){for(var i in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(i)){var t=this.by_data.BYDAY[i],s=this.ruleDayOfWeek(t),a=s[0],l=s[1],c=e.dayOfWeek();if(a==0&&l==c||e.nthWeekDay(l,a)==e.day)return 1}return 0},check_set_position:function(e){if(this.has_by_data("BYSETPOS")){var i=this.by_data.BYSETPOS.indexOf(e);return i!==-1}return!1},sort_byday_rules:function(e){for(var i=0;i<e.length;i++)for(var t=0;t<i;t++){var s=this.ruleDayOfWeek(e[t],this.rule.wkst)[1],a=this.ruleDayOfWeek(e[i],this.rule.wkst)[1];if(s>a){var l=e[i];e[i]=e[t],e[t]=l}}},check_contract_restriction:function(e,i){var t=u._indexMap[e],s=u._expandMap[this.rule.freq][t],a=!1;if(e in this.by_data&&s==u.CONTRACT){var l=this.by_data[e];for(var c in l)if(l.hasOwnProperty(c)&&l[c]==i){a=!0;break}}else a=!0;return a},check_contracting_rules:function(){var e=this.last.dayOfWeek(),i=this.last.weekNumber(this.rule.wkst),t=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",n.Recur.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",i)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",t)},setup_defaults:function(e,i,t){var s=u._indexMap[e],a=u._expandMap[this.rule.freq][s];return a!=u.CONTRACT&&(e in this.by_data||(this.by_data[e]=[t]),this.rule.freq!=i)?this.by_data[e][0]:t},toJSON:function(){var r=Object.create(null);return r.initialized=this.initialized,r.rule=this.rule.toJSON(),r.dtstart=this.dtstart.toJSON(),r.by_data=this.by_data,r.days=this.days,r.last=this.last.toJSON(),r.by_indices=this.by_indices,r.occurrence_number=this.occurrence_number,r}},u._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},u._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},u.UNKNOWN=0,u.CONTRACT=1,u.EXPAND=2,u.ILLEGAL=3,u}();n.RecurExpansion=function(){function u(t){return n.helpers.formatClassType(t,n.Time)}function r(t,s){return t.compare(s)}function e(t){return t.hasProperty("rdate")||t.hasProperty("rrule")||t.hasProperty("recurrence-id")}function i(t){this.ruleDates=[],this.exDates=[],this.fromData(t)}return i.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(t){var s=n.helpers.formatClassType(t.dtstart,n.Time);if(s)this.dtstart=s;else throw new Error(".dtstart (ICAL.Time) must be given");if(t.component)this._init(t.component);else{if(this.last=u(t.last)||s.clone(),!t.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=t.ruleIterators.map(function(a){return n.helpers.formatClassType(a,n.RecurIterator)}),this.ruleDateInc=t.ruleDateInc,this.exDateInc=t.exDateInc,t.ruleDates&&(this.ruleDates=t.ruleDates.map(u),this.ruleDate=this.ruleDates[this.ruleDateInc]),t.exDates&&(this.exDates=t.exDates.map(u),this.exDate=this.exDates[this.exDateInc]),typeof t.complete<"u"&&(this.complete=t.complete)}},next:function(){for(var t,s,a,l,c=500,v=0;;){if(v++>c)throw new Error("max tries have occured, rule may be impossible to forfill.");if(a=this.ruleDate,t=this._nextRecurrenceIter(this.last),!a&&!t){this.complete=!0;break}if((!a||t&&a.compare(t.last)>0)&&(a=t.last.clone(),t.next()),this.ruleDate===a&&this._nextRuleDay(),this.last=a,this.exDate&&(l=this.exDate.compare(this.last),l<0&&this._nextExDay(),l===0)){this._nextExDay();continue}return this.last}},toJSON:function(){function t(a){return a.toJSON()}var s=Object.create(null);return s.ruleIterators=this.ruleIterators.map(t),this.ruleDates&&(s.ruleDates=this.ruleDates.map(t)),this.exDates&&(s.exDates=this.exDates.map(t)),s.ruleDateInc=this.ruleDateInc,s.exDateInc=this.exDateInc,s.last=this.last.toJSON(),s.dtstart=this.dtstart.toJSON(),s.complete=this.complete,s},_extractDates:function(t,s){function a(m){o=n.helpers.binsearchInsert(l,m,r),l.splice(o,0,m)}for(var l=[],c=t.getAllProperties(s),v=c.length,f=0,d,o;f<v;f++)c[f].getValues().forEach(a);return l},_init:function(t){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!e(t)){this.ruleDate=this.last.clone(),this.complete=!0;return}if(t.hasProperty("rdate")&&(this.ruleDates=this._extractDates(t,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=n.helpers.binsearchInsert(this.ruleDates,this.last,r),this.ruleDate=this.ruleDates[this.ruleDateInc]),t.hasProperty("rrule"))for(var s=t.getAllProperties("rrule"),a=0,l=s.length,c,v;a<l;a++)c=s[a].getFirstValue(),v=c.iterator(this.dtstart),this.ruleIterators.push(v),v.next();t.hasProperty("exdate")&&(this.exDates=this._extractDates(t,"exdate"),this.exDateInc=n.helpers.binsearchInsert(this.exDates,this.last,r),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var t=this.ruleIterators;if(t.length===0)return null;for(var s=t.length,a,l,c=0,v;c<s;c++){if(a=t[c],l=a.last,a.completed){s--,c!==0&&c--,t.splice(c,1);continue}(!v||v.last.compare(l)>0)&&(v=a)}return v}},i}();n.Event=function(){function u(e,i){e instanceof n.Component||(i=e,e=null),e?this.component=e:this.component=new n.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],i&&i.strictExceptions&&(this.strictExceptions=i.strictExceptions),i&&i.exceptions?i.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(t){t.hasProperty("recurrence-id")&&this.relateException(t)},this)}u.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof n.Component&&(e=new n.Event(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var i=e.recurrenceId.toString();if(this.exceptions[i]=e,e.modifiesFuture()){var t=[e.recurrenceId.toUnixTime(),i],s=n.helpers.binsearchInsert(this.rangeExceptions,t,r);this.rangeExceptions.splice(s,0,t)}},modifiesFuture:function(){if(!this.component.hasProperty("recurrence-id"))return!1;var e=this.component.getFirstProperty("recurrence-id").getParameter("range");return e===this.THISANDFUTURE},findRangeException:function(e){if(!this.rangeExceptions.length)return null;var i=e.toUnixTime(),t=n.helpers.binsearchInsert(this.rangeExceptions,[i],r);if(t-=1,t<0)return null;var s=this.rangeExceptions[t];return i<s[0]?null:s[1]},getOccurrenceDetails:function(e){var i=e.toString(),t=e.convertToZone(n.Timezone.utcTimezone).toString(),s,a={recurrenceId:e};if(i in this.exceptions)s=a.item=this.exceptions[i],a.startDate=s.startDate,a.endDate=s.endDate,a.item=s;else if(t in this.exceptions)s=this.exceptions[t],a.startDate=s.startDate,a.endDate=s.endDate,a.item=s;else{var l=this.findRangeException(e),c;if(l){var v=this.exceptions[l];a.item=v;var f=this._rangeExceptionCache[l];if(!f){var d=v.recurrenceId.clone(),o=v.startDate.clone();d.zone=o.zone,f=o.subtractDate(d),this._rangeExceptionCache[l]=f}var m=e.clone();m.zone=v.startDate.zone,m.addDuration(f),c=m.clone(),c.addDuration(v.duration),a.startDate=m,a.endDate=c}else c=e.clone(),c.addDuration(this.duration),a.endDate=c,a.startDate=e,a.item=this}return a},iterator:function(e){return new n.RecurExpansion({component:this.component,dtstart:e||this.startDate})},isRecurring:function(){var e=this.component;return e.hasProperty("rrule")||e.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var e=this.component.getAllProperties("rrule"),i=0,t=e.length,s=Object.create(null);i<t;i++){var a=e[i].getFirstValue();s[a.freq]=!0}return s},get uid(){return this._firstProp("uid")},set uid(e){this._setProp("uid",e)},get startDate(){return this._firstProp("dtstart")},set startDate(e){this._setTime("dtstart",e)},get endDate(){var e=this._firstProp("dtend");if(!e){var i=this._firstProp("duration");e=this.startDate.clone(),i?e.addDuration(i):e.isDate&&(e.day+=1)}return e},set endDate(e){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",e)},get duration(){var e=this._firstProp("duration");return e||this.endDate.subtractDateTz(this.startDate)},set duration(e){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",e)},get location(){return this._firstProp("location")},set location(e){return this._setProp("location",e)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(e){this._setProp("summary",e)},get description(){return this._firstProp("description")},set description(e){this._setProp("description",e)},get color(){return this._firstProp("color")},set color(e){this._setProp("color",e)},get organizer(){return this._firstProp("organizer")},set organizer(e){this._setProp("organizer",e)},get sequence(){return this._firstProp("sequence")},set sequence(e){this._setProp("sequence",e)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(e){this._setTime("recurrence-id",e)},_setTime:function(e,i){var t=this.component.getFirstProperty(e);t||(t=new n.Property(e),this.component.addProperty(t)),i.zone===n.Timezone.localTimezone||i.zone===n.Timezone.utcTimezone?t.removeParameter("tzid"):t.setParameter("tzid",i.zone.tzid),t.setValue(i)},_setProp:function(e,i){this.component.updatePropertyWithValue(e,i)},_firstProp:function(e){return this.component.getFirstPropertyValue(e)},toString:function(){return this.component.toString()}};function r(e,i){return e[0]>i[0]?1:i[0]>e[0]?-1:0}return u}();n.ComponentParser=function(){function u(r){typeof r>"u"&&(r={});var e;for(e in r)r.hasOwnProperty(e)&&(this[e]=r[e])}return u.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(r){},ontimezone:function(r){},onevent:function(r){},process:function(r){typeof r=="string"&&(r=n.parse(r)),r instanceof n.Component||(r=new n.Component(r));for(var e=r.getAllSubcomponents(),i=0,t=e.length,s;i<t;i++)switch(s=e[i],s.name){case"vtimezone":if(this.parseTimezone){var a=s.getFirstPropertyValue("tzid");a&&this.ontimezone(new n.Timezone({tzid:a,component:s}))}break;case"vevent":this.parseEvent&&this.onevent(new n.Event(s));break;default:continue}this.oncomplete()}},u}()});var U=Z(oe());ue();var J=Z(ne()),T=Z(re()),le=()=>[{rel:"stylesheet",href:ie}],X="http://ec2-3-144-236-30.us-east-2.compute.amazonaws.com:3002",$=class{constructor(r,e,i,t,s,a,l=[]){this._id=r,this.name=e,this.email=i,this.calendarLink=t,this.originalCalendarLink=s,this.bedtime=a,this.emojis=l}},ee=class{constructor(r,e,i,t){this._id=r,this.name=e,this.description=i,this.date=t}};function se(){let u=(0,U.useRef)(null),r=te(),[e,i]=(0,U.useState)(!1),[t,s]=(0,U.useState)(!0),[a,l]=(0,U.useState)(""),[c,v]=(0,U.useState)(!1),[f,d]=(0,U.useState)([]),[o,m]=(0,U.useState)(null),[y,p]=(0,U.useState)((o==null?void 0:o.bedtime)||""),[_,O]=(0,U.useState)((o==null?void 0:o.name)||""),[w,E]=(0,U.useState)((o==null?void 0:o.calendarLink)||""),[b,A]=(0,U.useState)((o==null?void 0:o.originalCalendarLink)||""),[C,z]=(0,U.useState)((o==null?void 0:o.email)||""),B=typeof window!="undefined"?localStorage.getItem("studentId"):null;function W(){return!0}let[H,F]=(0,U.useState)([]),k=async()=>{try{let D=await fetch(`${X}/students`);if(D.ok){let N=(await D.json()).map(I=>new $(I._id,I.name,I.email,I.calendarLink,I.originalCalendarLink,I.bedtime,I.emojis));F(N);let P=localStorage.getItem("studentId"),S=N.find(I=>I._id===P);S&&S.calendarLink&&(m(S),p(S.bedtime),A(S.originalCalendarLink),V(S))}else console.error("Failed to fetch students:",D.status,D.statusText)}catch(D){console.error("Error fetching students:",D)}},V=async D=>{if(!D||!D._id){console.error("Student or student ID is missing.");return}try{let Y=`${X}/api/calendar/${D._id}`,N=await fetch(Y);if(N.ok){let P=await N.text(),S=J.parse(P),G=new J.Component(S).getAllSubcomponents("vevent").map(q=>new J.Event(q)).map(q=>new ee(q.uid,q.summary,q.description,q.startDate.toJSDate()));d(G)}else console.error("Failed to fetch ICS:",N.status,N.statusText)}catch(Y){console.error("Error fetching and parsing ICS:",Y)}};(0,U.useEffect)(()=>{document.body.style.overflow="hidden",W()||r("/onboarding"),B?M(B):k()},[]),(0,U.useEffect)(()=>{O((o==null?void 0:o.name)||""),E((o==null?void 0:o.calendarLink)||""),z((o==null?void 0:o.email)||""),p((o==null?void 0:o.bedtime)||"")},[o]),(0,U.useEffect)(()=>{o&&o._id&&localStorage.setItem("studentId",o._id)},[o]);let M=async D=>{if(!D){console.error("Student ID is not provided.");return}try{let Y=await fetch(`${X}/students/${D}`);if(Y.ok){let N=await Y.json();if(N){let P=new $(N._id,N.name,N.email,N.calendarLink,N.originalCalendarLink,N.bedtime,N.emojis);m(P),p(P.bedtime),A(P.originalCalendarLink),V(P)}else console.error("Student with ID not found:",D),k()}else console.error("Error fetching student by ID:",Y.statusText)}catch(Y){console.error("Error fetching student by ID:",Y)}};async function R(D){D.preventDefault();let Y={name:_,originalCalendarLink:b,calendarLink:w,email:C,bedtime:y};if(console.log("Form Data:",Y),console.log(Y.bedtime,typeof Y.bedtime),!o||!o._id){console.error("Current student or student ID is missing.");return}try{let N=await fetch(`${X}/students/${o._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});N.ok?(console.log("Student data updated successfully."),m(P=>({...P,...Y})),p(Y.bedtime),F(P=>{let S=[...P],I=S.findIndex(j=>j._id===o._id);return I!==-1&&(S[I]={...S[I],...Y}),S}),i(!1)):console.error("Error updating student data:",N.statusText)}catch(N){console.error("Error sending data to server:",N)}}function h(D){A(D.target.value)}async function g(D){if(!o||!o._id){console.error("Current student or student ID is missing.");return}switch(document.body.style.overflow="auto",s(!1),D){case 1:{l("That's good to hear!");break}case 2:{l("Hope you feel better!");break}case 3:{l("Hope you feel better!");break}case 4:{l("Hope you feel better!");break}default:{l("Emote not recognized.");break}}let Y={emoji:D,timestamp:new Date};try{let N=o==null?void 0:o._id;if(!N){console.error("Student ID is not available.");return}let P=await fetch(`${X}/students/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({emojiEvent:Y})});P.ok||console.error("Error updating emote:",P.statusText)}catch(N){console.error("Error sending emote to server:",N)}}function L(){var D=0,Y=u.current.offsetTop,N=Y>D?Y-D:D-Y;if(N<100){scrollTo(0,Y);return}var P=Math.round(N/100);P>=20&&(P=20);var S=Math.round(N/25),I=Y>D?D+S:D-S,j=0;if(Y>D){for(var K=D;K<Y;K+=S)setTimeout("window.scrollTo(0, "+I+")",j*P),I+=S,I>Y&&(I=Y),j++;return}for(var K=D;K>Y;K-=S)setTimeout("window.scrollTo(0, "+I+")",j*P),I-=S,I<Y&&(I=Y),j++;return!1}function x(){var D=0,Y=u.current.offsetTop,N=D>Y?D-Y:Y-D;if(N<100){scrollTo(0,D);return}var P=Math.round(N/100);P>=20&&(P=20);var S=Math.round(N/25),I=D>Y?Y+S:Y-S,j=0;if(D>Y){for(var K=Y;K<D;K+=S)setTimeout("window.scrollTo(0, "+I+")",j*P),I+=S,I>D&&(I=D),j++;return}for(var K=Y;K>D;K-=S)setTimeout("window.scrollTo(0, "+I+")",j*P),I-=S,I<D&&(I=D),j++;return!1}return(0,T.jsxs)("div",{className:"scroll-smooth",children:[(0,T.jsxs)("div",{className:"h-[100vh]",children:[(0,T.jsxs)("div",{className:"flex flex-col space-y-10 justify-center h-full",children:[(0,T.jsxs)("div",{className:"flex flex-row place-self-center",children:[(0,T.jsx)("img",{src:"icons/Carrot_GreenHalo.svg",className:"place-self-center bg-contain w-96 h-96"}),(0,T.jsx)(he,{assignments:f,bedtime:y})]}),(0,T.jsx)("p",{className:"text-white font-bold text-5xl place-self-center",children:`Hey ${(o==null?void 0:o.name)||"there"}, it's ${fe()}.`}),t?(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:"flex flex-col place-self-center space-y-2",children:[(0,T.jsx)("p",{className:"text-white font-medium text-3xl place-self-center",children:"How are you feeling today?"}),(0,T.jsxs)("div",{className:"flex flex-row place-self-center space-x-2",children:[(0,T.jsx)("button",{className:"text-5xl",onClick:()=>g(1),children:"\u{1F603}"}),(0,T.jsx)("button",{className:"text-5xl",onClick:()=>g(2),children:"\u{1F4A9}"}),(0,T.jsx)("button",{className:"text-5xl",onClick:()=>g(3),children:"\u{1F614}"}),(0,T.jsx)("button",{className:"text-5xl",onClick:()=>g(4),children:"\u{1F621}"})]})]})}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"flex flex-col place-self-center space-y-2",children:[(0,T.jsx)("p",{className:"text-white font-medium text-3xl place-self-center",children:a}),(0,T.jsx)("p",{className:"text-white font-medium text-3xl place-self-center",children:"Your halo is red because you have 5 assignments coming up:"})]}),(0,T.jsx)("img",{src:"icons/down-arrow.svg",className:"place-self-center bg-contain absolute bottom-5 animate-bounce cursor-pointer",onClick:()=>L()})]})]}),(0,T.jsx)("button",{className:"fixed bottom-4 left-4",children:(0,T.jsx)("img",{src:"icons/settings.svg",onClick:()=>i(!0)})}),e?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,T.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,T.jsxs)("div",{className:"bg-gradient-to-tr from-fitalyst-green to-fitalyst-orange border-2 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,T.jsx)("div",{className:"flex items-start justify-between pl-5 pr-5 pt-5 border-solid border-white rounded-t",children:(0,T.jsx)("p",{className:"text-3xl text-white font-bold",children:"Settings"})}),(0,T.jsxs)("form",{method:"post",encType:"multipart/form-data",action:"# ",onSubmit:R,className:"relative p-6 grid grid-cols-2 grid-flow-row justify-evenly gap-4",children:[(0,T.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,T.jsx)("p",{className:"text-fitalyst-orange font-bold text-2xl",children:"Name"}),(0,T.jsx)("input",{type:"text",name:"name",className:"bg-fitalyst-light-blue border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",defaultValue:o==null?void 0:o.name,required:!0})]}),(0,T.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,T.jsx)("p",{className:"text-fitalyst-green font-bold text-2xl",children:"Bedtime"}),(0,T.jsx)("input",{type:"time",name:"bedtime",onChange:D=>p(D.target.value),value:y,className:"bg-fitalyst-light-blue border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:!0})]}),(0,T.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,T.jsx)("p",{className:"text-fitalyst-orange font-bold text-2xl",children:"Calendar Link"}),(0,T.jsx)("input",{type:"text",name:"originalCalendarLink",className:"bg-fitalyst-light-blue border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",value:b,onChange:h,required:!0})]}),(0,T.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,T.jsx)("p",{className:"text-fitalyst-green font-bold text-2xl",children:"Email"}),(0,T.jsx)("input",{type:"email",name:"email",className:"bg-fitalyst-light-blue border border-gray-300 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",defaultValue:o==null?void 0:o.email,required:!0})]}),(0,T.jsxs)("div",{className:"flex items-center justify-end p-6 rounded-b",children:[(0,T.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>i(!1),children:"Cancel"}),(0,T.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",onClick:()=>i(!1),children:"Save Changes"})]}),o!=null&&(0,T.jsx)("button",{className:"bg-blue-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",onClick:()=>r("/onboarding"),children:"Onboard"})]})]})})}),(0,T.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]}),(0,T.jsxs)("div",{className:"flex flex-col w-full h-[100vh]",ref:u,children:[(0,T.jsx)("img",{src:"icons/up-arrow.svg",className:"bg-contain place-self-center animate-bounce cursor-pointer p-8",onClick:()=>x()}),(0,T.jsx)("div",{className:"flex flex-col justify-center gap-0",children:f.sort((D,Y)=>D.date.toLocaleString()<Y.date.toLocaleString()?-1:1).slice(0,5).map(D=>(0,T.jsx)(ce,{...D},D._id))})]})]})}function he(u){let[r,e]=(0,U.useState)(new Date);(0,U.useEffect)(()=>{let p=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(p)},[]);var i=new Date(r);let[t,s]=(typeof u.bedtime=="string"?u.bedtime.split(":"):["00","00"]).map(p=>parseInt(p));var a=i.setHours(t,s,0,0),l=r.getTime(),c=a-l;if(u.assignments.length>0&&c>3*60*60*1e3&&Math.abs(u.assignments[0].date.getTime()-l)<8*60*60*1e3){var v=u.assignments[0].date;c=v.getTime()-l}if(c<-4*60*60*1e3&&(c+=24*60*60*1e3),c<0){var f="past";c*=-1}else var f="'til";var d=Math.floor(c/(1e3*60*60*24))<10?"0"+Math.floor(c/(1e3*60*60*24)):Math.floor(c/(1e3*60*60*24)),o=Math.floor(c%(1e3*60*60*24)/(1e3*60*60))<10?"0"+Math.floor(c%(1e3*60*60*24)/(1e3*60*60)):Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),m=Math.floor(c%(1e3*60*60)/(1e3*60))<10?"0"+Math.floor(c%(1e3*60*60)/(1e3*60)):Math.floor(c%(1e3*60*60)/(1e3*60)),y=Math.floor(c%(1e3*60)/1e3)<10?"0"+Math.floor(c%(1e3*60)/1e3):Math.floor(c%(1e3*60)/1e3);return(0,T.jsxs)("div",{className:"flex flex-col place-self-center place-items-end",children:[d==0&&(0,T.jsxs)("div",{className:"grid grid-cols-3",children:[(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:o}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"h"})]}),(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:m}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"m"})]}),(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:y}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"s"})]})]}),d!=0&&(0,T.jsxs)("div",{className:"grid grid-cols-4",children:[(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:d}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"d"})]}),(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:o}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"h"})]}),(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:m}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"m"})]}),(0,T.jsxs)("div",{className:"flex flex-row px-2 place-items-end",children:[(0,T.jsx)("p",{className:"text-white font-bold text-9xl tabular-nums",children:y}),(0,T.jsx)("p",{className:"text-white font-light text-6xl",children:"s"})]})]}),(0,T.jsxs)("p",{className:"text-white font-bold text-5xl underline",children:[f," \u{1F634}"]})]})}function ce(u){var r=u.date.getTime()-new Date().getTime(),e=Math.floor(r/(1e3*60*60*24))<10?"0"+Math.floor(r/(1e3*60*60*24)):Math.floor(r/(1e3*60*60*24)),i=Math.floor(r%(1e3*60*60*24)/(1e3*60*60))<10?"0"+Math.floor(r%(1e3*60*60*24)/(1e3*60*60)):Math.floor(r%(1e3*60*60*24)/(1e3*60*60));return(0,T.jsxs)("div",{className:"flex flex-row w-full p-2 overflow-hidden",children:[(0,T.jsx)("div",{className:"flex-none w-1/6 h-40 border-4 rounded-l-xl text-white font-medium text-xl text-center flex items-center justify-center overflow-hidden",children:u.name}),(0,T.jsx)("div",{className:"grow h-40 border-t-4 border-b-4 text-white font-medium text-2xl underline text-center flex items-center justify-center overflow-hidden",children:u.description}),(0,T.jsxs)("div",{className:"flex-none w-1/6 h-40 border-4 rounded-r-2xl text-white font-medium text-2xl text-center flex items-center justify-center overflow-hidden",children:[e,"d ",i,"h"]})]})}function fe(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()]}export{se as default,le as links};
